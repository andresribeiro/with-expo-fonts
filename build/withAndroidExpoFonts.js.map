{"version":3,"file":"withAndroidExpoFonts.js","sourceRoot":"","sources":["../src/withAndroidExpoFonts.ts"],"names":[],"mappings":";;;AACA,yDAAwD;AACxD,2BAAsE;AACtE,+BAA+B;AAG/B,MAAM,mBAAmB,GAAG,mCAAmC,CAAC;AAEzD,MAAM,oBAAoB,GAAmC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;IACpF,OAAO,IAAA,iCAAgB,EAAC,MAAM,EAAE;QAC9B,SAAS;QACT,CAAC,MAAM,EAAE,EAAE;YACT,MAAM,uBAAuB,GAAG,IAAA,cAAO,EACrC,MAAM,CAAC,UAAU,CAAC,WAAW,EAC7B,mBAAmB,CACpB,CAAC;YAEF,IAAI,CAAC,IAAA,eAAU,EAAC,uBAAuB,CAAC,EAAE;gBACxC,IAAA,cAAS,EAAC,uBAAuB,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;aACzD;YAED,MAAM,UAAU,GAAG,IAAA,gBAAW,EAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAE3C,UAAU,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAC9B,IAAA,iBAAY,EACV,GAAG,KAAK,CAAC,IAAI,IAAI,QAAQ,EAAE,EAC3B,GAAG,uBAAuB,IAAI,QAAQ,EAAE,CACzC,CAAC;YACJ,CAAC,CAAC,CAAC;YAEH,OAAO,MAAM,CAAC;QAChB,CAAC;KACF,CAAC,CAAC;AACL,CAAC,CAAC;AAzBW,QAAA,oBAAoB,wBAyB/B","sourcesContent":["import { ConfigPlugin } from \"@expo/config-plugins\";\nimport { withDangerousMod } from \"@expo/config-plugins\";\nimport { copyFileSync, existsSync, mkdirSync, readdirSync } from \"fs\";\nimport { resolve } from \"path\";\nimport { PluginConfigType } from \"./pluginConfigType\";\n\nconst ANDROID_FONTS_PATHS = \"android/app/src/main/assets/fonts\";\n\nexport const withAndroidExpoFonts: ConfigPlugin<PluginConfigType> = (config, props) => {\n  return withDangerousMod(config, [\n    \"android\",\n    (config) => {\n      const projectAndroidFontsPath = resolve(\n        config.modRequest.projectRoot,\n        ANDROID_FONTS_PATHS\n      );\n\n      if (!existsSync(projectAndroidFontsPath)) {\n        mkdirSync(projectAndroidFontsPath, { recursive: true });\n      }\n\n      const fontsFiles = readdirSync(props.path);\n\n      fontsFiles.forEach((fontFile) => {\n        copyFileSync(\n          `${props.path}/${fontFile}`,\n          `${projectAndroidFontsPath}/${fontFile}`\n        );\n      });\n\n      return config;\n    },\n  ]);\n};"]}